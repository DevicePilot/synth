{
    "restart_log" : true,
    "engine" : {
        "type" : "sim",
        "start_time" : "-P14D",
        "end_time" : "now"
    },
    "events" : [
        {
            "at" : "PT0S",
            "repeats" : 100,
            "interval" : "PT0S",
            "action": {
                "create_device" : {
                    "functions" : {
                        "basic" : {
                            "label_root" : "Meter "
                        },
                        "commswave" : {
                            "threshold" : 0.01, // To give 99% uptime
                            "timefunction" : {
                                "randomwave" : {
                                    "period" : "PT1H",
                                    "precision" : 100
                               }
                            }
                         },
                        "enumerated" : {
                            "name" : "fault",
                            "values" : ["tamper", "mains loss", "cover removed", "hardware fault", "calibration error", "internal fault", "link interference", "over-temperature"],
                            "periods" : ["P30D",  "P20D",       "P15D",          "P60D",           "P100D",              "P50D",           "P23D",              "P50D"],
                            "sigmas" : ["P10D",   "P7D",        "P5D",           "P20D",           "P30D",               "P16D",           "P8D",               "P16D"]
                        },
                        "firmware" : {},
                        "heartbeat" : {
                            "interval" : "PT1H"
                        },
                        "latlong" : {
                            "generate_addresses" : true,
                            "area_centre" : "Nagpur, India",
                            "area_radius" : "Jodhpur, India"
                        },
                        "variable" : [
                            {   "name" : "vendor",  "value" : ["Landis & Gyr", "EDMI", "Aclara", "Itron", "Kaifa", "Honeywell", "Flonidan", "GWI"]},
                            {   "name" : "model",   "value" : ["E470-5394", "ES-10A", "SGM1412", "EM425-I2", "MA120", "AS203P", "BK-G4E", "E470", "G4-MG-SE"]}
                        ]
                    }
                }
            }
        },
        {
            "at" : "P3D",
             "action": {
                "change_property" : {
                    "is_attribute" : true,
                    "identity_property" : "vendor",
                    "identity_value" : "Itron",
                    "property_name" : "comms_tf_threshold",
                    "property_value" : 0.20 // Change uptime to 80%
                }
             }
         }
    ]
}
